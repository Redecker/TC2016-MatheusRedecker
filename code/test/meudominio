(defdomain ahtn
    (
        (:operator (!base ?worker ?recurso)
                    ((have ?worker) (have ?recurso))
                    ((have ?recurso))
                    ((have ?base))
        )

        (:operator (!worker ?worker ?base ?recurso)
                    ((have ?base) (have ?recurso))
                    ((have ?recurso))
                    ((have ?worker))
        )

        (:operator (!quartel ?worker ?recurso)
                    ((have ?worker) (have ?recurso))
                    ((have ?recurso))
                    ((have ?quartel))
        )

        (:operator (!treinar ?quartel ?unidade ?recurso)
                    ((have ?quartel) (have ?recurso))
                    ((have ?recurso))
                    ((have ?unidade))
        )

        (:operator (!obter-recurso ?recurso ?worker)
                	((have ?worker))
                	()
                	((have ?recurso))
        )

        (:operator (!ataque ?unidade)
                    ((have ?unidade))
                    ()
                    ()
        )

        (:method (treinar-worker ?worker ?base ?recursoWorker)
                ((not (have ?worker)))
                ((!worker ?worker ?base ?recursoWorker))
        )

        (:method (construir-base ?worker ?base ?recursoBase)
                ((not (have ?base)))
                ((!base ?worker ?recursoBase))
        )

        (:method (construir-quartel ?worker ?quartel ?recursoQuartel)
                ((not (have ?quartel)) (have ?recursoQuartel)) 
                ((!quartel ?worker ?recursoQuartel))
                ((not (have ?quartel)) (not (have ?recursoQuartel)))
                ((!obter-recurso ?recursoQuartel ?worker) (construir-quartel ?worker ?quartel ?recursoQuartel))
        )

        (:method (treinar-unidade ?unidade ?quartel ?recursoUnidade)
                ((have ?quartel) (have ?recursoUnidade))
                ((!treinar ?quartel ?unidade ?recursoUnidade))
                ((have ?quartel) (not (have ?recursoUnidade)))
                ((!obter-recurso ?recursoUnidade ?worker) (treinar-unidade ?unidade ?quartel ?recursoUnidade))
        )

        (:method (atacar ?unidade)
                ((have ?unidade))
                ((!ataque ?unidade))
                ;((not (have ?unidade)))
                ;((treinar-unidade ?unidade ?quartel ?recursoUnidade))
        )
    )
)
